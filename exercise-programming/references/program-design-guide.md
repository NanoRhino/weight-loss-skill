# Program Design Guide

This reference file contains the detailed logic for designing training programs. The SKILL.md tells you WHEN to read this — do so before generating any program.

---

## Table of Contents

1. Training Split Selection
2. Exercise Selection by Movement Pattern
3. Volume, Intensity & Frequency Guidelines
4. Periodization Strategies
5. Cardio & Conditioning Programming
6. Warm-up & Cooldown Templates
7. Exercise Substitution Guide

---

## 1. Training Split Selection

Choose the split based on user's available training days and experience level:

| Days/Week | Beginner | Intermediate | Advanced |
|-----------|----------|-------------|----------|
| 2 | Full Body ×2 | Full Body ×2 | Upper/Lower |
| 3 | Full Body ×3 | Full Body or Upper/Lower/Full | Push/Pull/Legs |
| 4 | Upper/Lower ×2 | Upper/Lower ×2 | Upper/Lower ×2 or Push/Pull/Legs + 1 |
| 5 | Upper/Lower + Full Body | Push/Pull/Legs + Upper/Lower | Push/Pull/Legs + Upper/Lower |
| 6 | Not recommended | Push/Pull/Legs ×2 | Push/Pull/Legs ×2 |

### Split Descriptions

**Full Body**: Every session trains all major muscle groups. Best for beginners (high frequency, moderate volume per session). Each session includes at minimum: 1 squat/lunge, 1 hip hinge, 1 horizontal push, 1 horizontal pull, 1 vertical push or pull.

**Upper/Lower**: Alternating upper and lower body days. Good balance of frequency and volume. Upper days: push + pull movements. Lower days: squat + hinge + calves/core.

**Push/Pull/Legs (PPL)**: Push day (chest, shoulders, triceps), Pull day (back, biceps, rear delts), Legs day (quads, hamstrings, glutes, calves). Allows higher volume per muscle group.

**User preference override**: If user strongly prefers a certain split and it's not wildly inappropriate for their level, accommodate it. Explain trade-offs but respect their choice.

---

## 2. Exercise Selection by Movement Pattern

Every program should cover these fundamental movement patterns across the training week:

### Movement Pattern Library

**Squat (Knee-dominant)**
- Beginner: Goblet Squat, Bodyweight Squat, Leg Press
- Intermediate: Barbell Back Squat, Front Squat, Bulgarian Split Squat
- Advanced: Barbell Back Squat, Front Squat, Pause Squat, Pistol Squat
- Knee-friendly alternatives: Leg Press (limited ROM), Box Squat, Wall Sit

**Hip Hinge (Hip-dominant)**
- Beginner: Romanian Deadlift (dumbbell), Kettlebell Deadlift, Hip Thrust (bodyweight)
- Intermediate: Barbell Romanian Deadlift, Conventional Deadlift, Barbell Hip Thrust
- Advanced: Conventional Deadlift, Sumo Deadlift, Stiff-Leg Deadlift, Single-Leg RDL
- Low-back friendly alternatives: Hip Thrust, Cable Pull-Through, Reverse Hyperextension

**Horizontal Push**
- Beginner: Push-up (modified if needed), Dumbbell Bench Press, Machine Chest Press
- Intermediate: Barbell Bench Press, Dumbbell Bench Press, Incline Dumbbell Press
- Advanced: Barbell Bench Press, Close-Grip Bench, Dumbbell Flies, Weighted Dips
- Shoulder-friendly alternatives: Floor Press, Neutral-Grip Dumbbell Press, Landmine Press

**Horizontal Pull**
- Beginner: Seated Cable Row, Machine Row, Dumbbell Row (supported)
- Intermediate: Barbell Bent-Over Row, Dumbbell Row, Cable Row
- Advanced: Barbell Row, Pendlay Row, Chest-Supported Row, Meadows Row
- Low-back friendly alternatives: Chest-Supported Row, Machine Row, Cable Row

**Vertical Push**
- Beginner: Dumbbell Shoulder Press (seated), Machine Shoulder Press, Lateral Raise
- Intermediate: Barbell Overhead Press, Dumbbell Shoulder Press, Arnold Press
- Advanced: Barbell Overhead Press, Push Press, Z-Press
- Shoulder-friendly alternatives: Landmine Press, High Incline Dumbbell Press

**Vertical Pull**
- Beginner: Lat Pulldown, Assisted Pull-up, Band Pull-up
- Intermediate: Pull-up, Chin-up, Lat Pulldown variations
- Advanced: Weighted Pull-up, Weighted Chin-up, Muscle-up
- Shoulder-friendly alternatives: Neutral-Grip Lat Pulldown, Single-Arm Pulldown

**Carry / Core**
- Beginner: Farmer's Walk (dumbbell), Plank, Dead Bug, Bird Dog
- Intermediate: Farmer's Walk (heavy), Pallof Press, Ab Wheel, Hanging Leg Raise
- Advanced: Heavy Farmer's Walk, Turkish Get-Up, Dragon Flag, Weighted Plank
- Low-back friendly alternatives: McGill Big 3 (Curl-Up, Side Plank, Bird Dog)

**Single-Leg / Accessory**
- Beginner: Lunges (bodyweight), Step-up, Glute Bridge
- Intermediate: Walking Lunges (weighted), Bulgarian Split Squat, Single-Leg RDL
- Advanced: Deficit Bulgarian Split Squat, Barbell Step-Up, Pistol Squat

### Exercise Selection Rules

1. Each training day starts with 1–2 compound movements for the target muscle groups
2. Follow compounds with 2–3 accessory/isolation movements
3. Total exercises per session: 4–6 for beginners, 5–7 for intermediate, 6–8 for advanced
4. When equipment is limited, prioritize compound free-weight and bodyweight movements
5. For bodyweight-only programs, use tempo manipulation, pauses, and unilateral variations to increase difficulty
6. **Beginner progression path**: For complete beginners (first 2–4 weeks), use only the simplest variation in each movement pattern (e.g., Goblet Squat, not Bulgarian Split Squat). Reserve more advanced unilateral and barbell movements for weeks 3–4+ after movement patterns are established. Program the progression path explicitly (e.g., "Week 1–2: Goblet Squat → Week 3–4: progress to Barbell Back Squat if form is solid")
7. **Avoid pairing two heavy spinal-loading compounds in the same session** (e.g., heavy back squat + heavy conventional deadlift). If both appear on the same day, make one the primary lift (heavy) and the other a lighter variation (e.g., RDL instead of conventional deadlift, or front squat instead of back squat)

---

## 3. Volume, Intensity & Frequency Guidelines

### Weekly Volume (working sets per muscle group per week)

| Muscle Group | Beginner | Intermediate | Advanced |
|-------------|----------|-------------|----------|
| Large (Chest, Back, Quads, Glutes) | 8–10 sets | 12–16 sets | 16–22 sets |
| Medium (Shoulders, Hamstrings) | 6–8 sets | 10–14 sets | 14–18 sets |
| Small (Biceps, Triceps, Calves, Core) | 4–6 sets | 8–12 sets | 10–14 sets |

### Intensity Guidelines

**Beginner**: Use RPE (Rate of Perceived Exertion) exclusively. Target RPE 6–7 for the first 4 weeks, then RPE 7–8.

**Intermediate**: Use RPE or RIR (Reps in Reserve). Compound lifts: RPE 7–8 (2–3 RIR). Isolation: RPE 8–9 (1–2 RIR).

**Advanced**: Can use %1RM, RPE, or RIR depending on the phase. Compounds: RPE 7–9. Isolation: RPE 8–10.

### RPE Scale (include in program for beginners)

| RPE | Description |
|-----|------------|
| 6 | Could do 4+ more reps — light, warming up |
| 7 | Could do 3 more reps — moderate effort |
| 8 | Could do 2 more reps — challenging |
| 9 | Could do 1 more rep — near maximal |
| 10 | Couldn't do another rep — maximal effort |

### Rep Ranges by Goal

| Goal | Rep Range | Rest Between Sets |
|------|-----------|-------------------|
| Maximal Strength | 1–5 reps | 3–5 min |
| Hypertrophy (Muscle Growth) | 6–12 reps | 1.5–3 min |
| Muscular Endurance | 12–20 reps | 30–90 sec |
| Power | 1–5 reps (explosive) | 2–5 min |

### Frequency (sessions per muscle group per week)

| Level | Recommended Frequency |
|-------|----------------------|
| Beginner | 2–3× per week per muscle group |
| Intermediate | 2× per week per muscle group |
| Advanced | 1.5–2× per week per muscle group |

---

## 4. Periodization Strategies

### For Beginners: Linear Progression

Simple and effective. Increase load each session or each week.

```
Week 1: 3×10 @ RPE 6-7
Week 2: 3×10 @ RPE 7 (add 2.5 kg if RPE was ≤7 last week)
Week 3: 3×10 @ RPE 7-8 (add weight if possible)
Week 4: 3×10 @ RPE 7-8
Week 5: DELOAD — 2×10 @ RPE 5-6 (reduce volume ~40%)
Week 6: Begin new cycle with slightly higher baseline
```

### For Intermediate: Undulating Periodization (DUP)

Vary rep ranges within the week to target different adaptations.

```
Monday (Heavy):    4×4-6 @ RPE 8 (Strength focus)
Wednesday (Medium): 3×8-10 @ RPE 7-8 (Hypertrophy focus)
Friday (Light):     3×12-15 @ RPE 7 (Volume/endurance focus)
```

### For Advanced: Block Periodization

Organize training into focused blocks (mesocycles):

```
Block 1 — Accumulation (4 weeks): High volume, moderate intensity
  → 4×10-12 @ RPE 7-8, weekly volume at the higher end
Block 2 — Intensification (3 weeks): Moderate volume, high intensity
  → 4×5-7 @ RPE 8-9, reduce total sets by ~20%
Block 3 — Realization (2 weeks): Low volume, peak intensity
  → 3×2-4 @ RPE 9-10, test new maxes
Deload (1 week): Low volume, low intensity
  → 2×8 @ RPE 5-6
```

### Deload Protocol

Schedule a deload every 4–6 weeks (beginners: every 4 weeks; advanced: every 5–6 weeks). During deload:
- Reduce volume (sets) by 40–50%
- Maintain intensity (weight on bar) or reduce slightly
- Keep the same exercises and movement patterns
- Focus on technique and recovery

### Progression Without Adding Weight (Home / Limited Equipment)

When the user has fixed-weight dumbbells or limited loading options, use these progression methods:

1. **Add reps**: 3×10 → 3×12 → 3×15 before changing the exercise
2. **Slow tempo**: Add a 3-second eccentric (lowering phase) to increase time under tension
3. **Pause reps**: Add a 2-second pause at the bottom of each rep
4. **1.5 reps**: Full rep + half rep = 1 count. Dramatically increases difficulty
5. **Unilateral progression**: Two-leg → single-leg (e.g., Glute Bridge → Single-Leg Glute Bridge)
6. **Reduce rest**: 90 sec → 60 sec → 45 sec between sets
7. **Add sets**: 3 sets → 4 sets (increase volume)
8. **Combine methods**: e.g., slow tempo + pause + single-leg

Always explain the progression method to the user so they understand WHY they're changing technique, not just what to do.

---

## 5. Cardio & Conditioning Programming

### Integrating Cardio with Strength Training

The approach depends on user's primary goal:

| Primary Goal | Cardio Prescription |
|-------------|-------------------|
| Muscle gain | Minimal — 2×20 min LISS per week (walking, light cycling). Avoid high-impact HIIT |
| Fat loss | 2–3× LISS (30–40 min) + 1–2× HIIT (15–20 min) per week |
| General health | 2–3× moderate cardio (30 min) per week, type based on preference |
| Endurance / sport performance | Sport-specific cardio programming; reduce strength volume if needed |
| Strength focused | 1–2× LISS (20–30 min) per week for cardiovascular health, no HIIT before heavy lifting |

### Cardio Timing Rules

- Ideally separate cardio and strength by 6+ hours
- If same session: strength first, cardio after
- Never do HIIT before a heavy strength session
- LISS on rest days is always fine

### LISS Examples (Low Intensity Steady State)
Target heart rate: 120–140 bpm (can hold a conversation)
- Brisk walking
- Light cycling
- Swimming at easy pace
- Elliptical

### HIIT Examples (High Intensity Interval Training)
- Cycling intervals: 30 sec sprint / 60 sec easy × 8–12 rounds
- Rowing intervals: 200m hard / 1 min rest × 6–8 rounds
- Bodyweight circuits: 20 sec work / 10 sec rest (Tabata-style)
- Hill sprints: 15–20 sec uphill / walk back down × 6–10 rounds

### Adapting Cardio by Aerobic Capacity Assessment

| Stair Test Result | Starting Prescription |
|------------------|----------------------|
| No breathlessness | Can handle moderate cardio; HIIT OK if no other contraindications |
| Slightly winded, can talk | Start with LISS; introduce HIIT gradually after 2–3 weeks |
| Noticeably winded, need to pause | LISS only at low intensity (walking pace) for first 4 weeks |
| Very winded, can't speak | Walking program only; 10–15 min building to 30 min over 4 weeks |

---

## 6. Warm-up & Cooldown Templates

### General Warm-up (5 minutes)
1. Light cardio: 3 min (brisk walk, cycling, jumping jacks)
2. Dynamic stretches: 2 min (leg swings, arm circles, hip circles, torso rotations)

### Specific Warm-up by Training Focus

**Upper Body Day**
- Band pull-aparts × 15
- Shoulder dislocates (with band/stick) × 10
- Push-up × 8–10 (bodyweight)
- Light set of first exercise × 12 (50% working weight)

**Lower Body Day**
- Bodyweight squats × 15
- Walking lunges × 10 each leg
- Glute bridges × 15
- Light set of first exercise × 12 (50% working weight)

**Full Body Day**
- Cat-Cow × 10
- World's Greatest Stretch × 5 each side
- Bodyweight squats × 10
- Push-ups × 8
- Light set of first exercise × 12 (50% working weight)

### Cooldown (5 minutes)
- Static stretching for worked muscle groups: hold each stretch 20–30 seconds
- Focus on: hip flexors, hamstrings, chest, lats, shoulders (based on day's training)
- Optional: foam rolling on tight areas (30–60 sec per area)

---

## 7. Exercise Substitution Guide

When equipment is unavailable or exercises are contraindicated, use this substitution logic:

### By Equipment Constraint

| Original Exercise | Dumbbell Only | Bodyweight Only | Bands Only |
|------------------|---------------|-----------------|------------|
| Barbell Back Squat | Goblet Squat / DB Front Squat | Pistol Squat / Bulgarian Split Squat | Banded Squat |
| Barbell Deadlift | DB Romanian Deadlift | Single-Leg Glute Bridge | Banded Good Morning |
| Barbell Bench Press | DB Bench Press | Push-up variations | Banded Chest Press |
| Barbell Overhead Press | DB Shoulder Press | Pike Push-up / Handstand Push-up | Banded Overhead Press |
| Barbell Row | DB Row | Inverted Row | Banded Row |
| Lat Pulldown | DB Pullover | Pull-up / Chin-up | Banded Lat Pulldown |
| Leg Press | DB Lunges / DB Step-Up | Pistol Squat / Jump Squat | Banded Split Squat |
| Cable Fly | DB Fly | Push-up (wide grip) | Banded Crossover |

### By Injury Constraint

| Injury | Avoid | Safe Alternatives |
|--------|-------|-------------------|
| Lower back pain | Conventional Deadlift, Good Morning, Heavy Barbell Row | Hip Thrust, Chest-Supported Row, Leg Press, McGill Big 3 |
| Knee pain | Deep Squat, Leg Extension, Jump training | Box Squat (above parallel), Leg Curl, Hip Hinge movements |
| Knee (meniscus/ACL) | Deep Squat, Leg Extension, Jump training, Running | Straight-Leg Raise, Terminal Knee Extension (band), Wall Sit (shallow angle, above 90°), Glute Bridge, Hip Hinge movements. Quad strengthening is important for knee support — use gentle, partial-ROM knee-dominant exercises |
| Shoulder impingement | Behind-the-neck Press, Upright Row, Wide-grip Pull-up | Neutral-grip Press, Landmine Press, Cable Lateral Raise |
| Wrist pain | Barbell front rack, Push-ups (flat hand) | Neutral-grip DB work, Push-ups on fists/parallettes |
| Elbow pain (tennis/golfer's) | Heavy bicep curls, tricep extensions | Reduce isolation volume, use neutral grips, eccentric focus |

### Yoga / Stretch Contraindications by Injury

When incorporating yoga or stretching, be aware of these contraindications:

| Injury | Avoid These Poses | Safer Alternatives |
|--------|------------------|--------------------|
| Knee (meniscus/ACL) | Pigeon Pose (deep knee flexion), Hero Pose (Virasana), deep lunges, full lotus | Reclined Figure-4 Stretch, Supine Hamstring Stretch, Gentle Seated Twist |
| Lower back | Deep forward folds, Wheel/Bridge with poor form, Plow Pose | Cat-Cow, Knees-to-Chest, Gentle Supine Twist, Child's Pose |
| Shoulder | Chaturanga with poor form, Full Wheel, Behind-the-head stretches | Thread the Needle, Eagle Arms, Cross-body Shoulder Stretch |

When in doubt, instruct the user to skip the pose and substitute with a gentler alternative. Always add a caveat: "如果这个姿势让膝盖/腰/肩感到不适，请跳过。"

### General Substitution Principle

When substituting, match the movement pattern, not the muscle group. A squat substitute should be another knee-dominant movement, not just "something for quads." This preserves the program's balance and movement quality.

---

## 8. Home Training Safety

When the user trains at home (especially alone), include relevant safety tips:

- **Squat rack safety pins**: Set them just below your lowest squat depth so you can safely bail
- **Bench press alternatives**: If no spotter or safety catch, use dumbbell press or floor press instead of barbell bench
- **No maximal testing alone**: Cap intensity at RPE 9 when training solo; save true max attempts for when you have a spotter
- **Furniture stability**: If using a sofa/chair for hip thrusts, step-ups, or rows, ensure it won't slide (push against a wall)
- **Clear space**: Ensure enough room to safely drop weights if needed
- **Flooring**: Use rubber mats or old carpet to protect floors and reduce noise

---

## 9. Starting Weight Guidance

When a user doesn't know what weight to use, provide rough starting points. These are conservative — it's always better to start too light.

### For Women (Beginner)
| Exercise Type | Starting Dumbbell Weight | Starting Barbell Weight |
|--------------|-------------------------|------------------------|
| Upper body pressing | 2–4 kg each | Bar only (20 kg) may be heavy — use lighter barbell or dumbbells |
| Upper body pulling | 4–6 kg each | Bar only |
| Lower body (deadlift, RDL) | 4–8 kg each | Bar only (20 kg) |
| Lower body (squat) | Bodyweight or 4–6 kg goblet | Bar only |

### For Men (Beginner)
| Exercise Type | Starting Dumbbell Weight | Starting Barbell Weight |
|--------------|-------------------------|------------------------|
| Upper body pressing | 6–10 kg each | Bar only (20 kg) |
| Upper body pulling | 8–12 kg each | Bar only or 30 kg |
| Lower body (deadlift, RDL) | 10–14 kg each | 40 kg |
| Lower body (squat) | 8–12 kg goblet | Bar only (20 kg) or 30 kg |

Note: These are rough guides. If a user can't complete 10 reps with good form, the weight is too heavy. If they can easily do 15+, it's too light.
